<section id="aa-menu-area">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <!-- LOGO -->
            <a class="navbar-brand aa-logo" routerLink=""> Home <span>Property</span></a>

            <!-- Toggle Button for Mobile View -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Navbar Links -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" routerLink="/">HOME</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" routerLink="prop">PROPERTIES</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" routerLink="gallery">GALLERY</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" routerLink="contact">CONTACT</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            PROFILE
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" routerLink="/dashboard">Dashboard</a></li>
                            <a style="cursor: pointer;" class="dropdown-item" (click)="logout()">
                                <i class="fa-solid fa-right-from-bracket"></i> Log Out
                            </a>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</section>

<h3>Hello, Dhruv{{fullName}}</h3>

<!-- Three Columns in One Line Without Space Between Them -->
<div class="container-fluid" style="height: 85vh; margin-top: 100px;">
    <div class="row no-gutters">
        <!-- Column 1: Profile Form with Validation -->
        <div class="col-3">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title" style="font-size: 40px; color: #007bff;">Profile</h5>
                    <!-- Profile Form -->
                    <form (ngSubmit)="onSubmit()" #profileForm="ngForm">
                        <div class="mb-3">
                            <label for="name" class="form-label">Name</label>
                            <input type="text" id="name" class="form-control" [(ngModel)]="user.name" name="name" required #name="ngModel">
                            <div *ngIf="name.invalid && name.touched" class="text-danger">
                                Name is required.
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="email" class="form-label">Email</label>
                            <input type="email" id="email" class="form-control" [(ngModel)]="user.email" name="email" required email #email="ngModel">
                            <div *ngIf="email.invalid && email.touched" class="text-danger">
                                <div *ngIf="email.errors">Email is required.</div>
                                <div *ngIf="email.errors">Please enter a valid email address.</div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="phone" class="form-label">Phone</label>
                            <input type="tel" id="phone" class="form-control" [(ngModel)]="user.phone" name="phone" required pattern="^[0-9]{10}$" #phone="ngModel">
                            <div *ngIf="phone.invalid && phone.touched" class="text-danger">
                                <div *ngIf="phone.errors">Phone number is required.</div>
                                <div *ngIf="phone.errors">Please enter a valid 10-digit phone number.</div>
                            </div>
                        </div>

                        <!-- Edit Button -->
                        <button type="submit" class="btn btn-primary" [disabled]="profileForm.invalid">Save</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Column 2: Card Layout with Image, Text, Description, and Icons -->
        <div class="col-6">
            <div class="card h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5 class="card-title" style="font-size: 40px; color: #007bff;">Properties</h5>
                        <button class="btn btn-primary" (click)="navigateToPropertyForm()">Add Property</button>
                      </div>
                      <br>
                      <br>

                    <!-- Card 1 -->
                    <div class="row">
                        <div class="col-3 d-flex justify-content-center align-items-center">
                            <img src="">
                        </div>
                        <div class="col-6">
                            <h6 class="card-text">Royal Banglow</h6>
                            <p class="card-text">Ahmedabad best Banglow for sell and rent</p>
                        </div>
                        <div class="col-3">
                            <!-- Icons for Delete, Edit, and Subscription in a Vertical Layout -->
                            <div class="d-flex flex-column align-items-center">
                                <div class="icon-container">
                                    <i class="fas fa-trash text-danger mb-2" style="cursor: pointer;" (click)="deleteCard()"></i>
                                    <span class="icon-text">Delete</span>
                                </div>
                                <div class="icon-container">
                                    <i class="fas fa-edit text-primary mb-2" style="cursor: pointer;" (click)="editCard()"></i>
                                    <span class="icon-text">Edit</span>
                                </div>
                                <div class="icon-container">
                                    <i class="fas fa-bell text-warning" style="cursor: pointer;" (click)="subscribe()"></i>
                                    <span class="icon-text">Subscribe</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Card 2 -->
                    <div class="row mt-3">
                        <div class="col-3 d-flex justify-content-center align-items-center">
                            <img src="">
                        </div>
                        <div class="col-6">
                            <h6 class="card-text">3BHK Flat in Ameerpet, Ahmedabad</h6>
                            <p class="card-text">Ahmedabad best flat for sell and rent </p>
                        </div>
                        <div class="col-3">
                            <div class="d-flex flex-column align-items-center">
                                <div class="icon-container">
                                    <i class="fas fa-trash text-danger mb-2" style="cursor: pointer;" (click)="deleteCard()"></i>
                                    <span class="icon-text">Delete</span>
                                </div>
                                <div class="icon-container">
                                    <i class="fas fa-edit text-primary mb-2" style="cursor: pointer;" (click)="editCard()"></i>
                                    <span class="icon-text">Edit</span>
                                </div>
                                <div class="icon-container">
                                    <i class="fas fa-bell text-warning" style="cursor: pointer;" (click)="subscribe()"></i>
                                    <span class="icon-text">Subscribe</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- You can add more cards here following the same pattern -->
                </div>
            </div>
        </div>

        <!-- Column 3: Empty or other content -->
        <div class="col-3">
            <div class="card">
                <div class="card-body">
                    <!-- Title and Description -->
                    <h5 class="card-title" style="font-size: 40px; color: #007bff;">Inquiries</h5>
                    
                    <!-- Card with Title, Description, and Date in the Right Corner -->
                    <div class="card mt-3">
                        <div class="card-body">
                            <!-- Title and Description -->
                            <h5 class="card-title">Royal Banglow</h5>
                            <p class="card-texte">Hello, I'm interested in learning more about the property at 123, Sardar Vallabhbhai Patel Avenue, Ahmedabad. Could you provide more details about the square footage, number of bedrooms, and any recent renovations? I’d also like to know the asking price and if the property is negotiable.</p>
                            
                            <!-- Date in the Right Corner -->
                            <p class="card-text text-end" style="font-size: 0.9rem; color: #6c757d;">
                                <small>November 1, 2024</small>
                            </p>
                            <button class="btn btn-danger" (click)="deleteCard()">Delete</button>
                        </div>
                    </div>
                    <div class="card mt-3">
                        <div class="card-body">
                            <!-- Title and Description -->
                            <h5 class="card-title">3BHK Flat in Ameerpet, Ahmedabad</h5>
                            <p class="card-texte">Hi, I'm considering buying a home in the area and came across your listing for 456, Ashram Road, Ahmedabad. Could you please send me more information regarding the amenities, school district, and average utility costs? I'm particularly interested in whether it’s pet-friendly.</p>
                            
                            <!-- Date in the Right Corner -->
                            <p class="card-text text-end" style="font-size: 0.9rem; color: #6c757d;">
                                <small>Octomber 2, 2024</small>
                            </p>
                            <button class="btn btn-danger" (click)="deleteCard()">Delete</button>
                        </div>
                    </div>
                    <div class="card mt-3">
                        <div class="card-body">
                            <!-- Title and Description -->
                            <h5 class="card-title">3BHK Flat in Ameerpet, Ahmedabad</h5>
                            <p class="card-texte">Good afternoon, I'm looking for a 3-bedroom house near 789, SG Highway, Ahmedabad. Does this property have a backyard or outdoor space? Could you also confirm if there are any HOA fees, and when it’s available for viewing?</p>
                            
                            <!-- Date in the Right Corner -->
                            <p class="card-text text-end" style="font-size: 0.9rem; color: #6c757d;">
                                <small>August 11, 2024</small>
                            </p>
                            <button class="btn btn-danger" (click)="deleteCard()">Delete</button>
                        </div>
                    </div>
                    <div class="card mt-3">
                        <div class="card-body">
                            <!-- Title and Description -->
                            <h5 class="card-title">Sample Card Title</h5>
                            <p class="card-texte">This is a description for the sample card. It provides some details. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras et urna eu risus auctor elementum.</p>
                            
                            <!-- Date in the Right Corner -->
                            <p class="card-text text-end" style="font-size: 0.9rem; color: #6c757d;">
                                <small>November 22, 2024</small>
                            </p>
                            <button class="btn btn-danger" (click)="deleteCard()">Delete</button>
                        </div>
                    </div>
                    <div class="card mt-3">
                        <div class="card-body">
                            <!-- Title and Description -->
                            <h5 class="card-title">Sample Card Title</h5>
                            <p class="card-texte">This is a description for the sample card. It provides some details. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras et urna eu risus auctor elementum.</p>
                            
                            <!-- Date in the Right Corner -->
                            <p class="card-text text-end" style="font-size: 0.9rem; color: #6c757d;">
                                <small>November 22, 2024</small>
                                <button class="btn btn-danger" id="deleteBtn">Delete</button>
                            </p>
                        </div>
                    </div>
                    <div class="card mt-3">
                        <div class="card-body">
                            <!-- Title and Description -->
                            <h5 class="card-title">Sample Card Title</h5>
                            <p class="card-texte">This is a description for the sample card. It provides some details. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras et urna eu risus auctor elementum.</p>
                            
                            <!-- Date in the Right Corner -->
                            <p class="card-text text-end" style="font-size: 0.9rem; color: #6c757d;">
                                <small>November 22, 2024</small>
                                <button class="btn btn-danger" id="deleteBtn">Delete</button>
                            </p>
                        </div>
                    </div>
                    <div class="card mt-3">
                        <div class="card-body">
                            <!-- Title and Description -->
                            <h5 class="card-title">Sample Card Title</h5>
                            <p class="card-texte">This is a description for the sample card. It provides some details. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras et urna eu risus auctor elementum.</p>
                            
                            <!-- Date in the Right Corner -->
                            <p class="card-text text-end" style="font-size: 0.9rem; color: #6c757d;">
                                <small>November 22, 2024</small>
                                <button class="btn btn-danger" id="deleteBtn">Delete</button>
                            </p>
                        </div>
                    </div>
                    <div class="card mt-3">
                        <div class="card-body">
                            <!-- Title and Description -->
                            <h5 class="card-title">Sample Card Title</h5>
                            <p class="card-texte">This is a description for the sample card. It provides some details. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras et urna eu risus auctor elementum.</p>
                            
                            <!-- Date in the Right Corner -->
                            <p class="card-text text-end" style="font-size: 0.9rem; color: #6c757d;">
                                <small>November 22, 2024</small>
                                <button class="btn btn-danger" id="deleteBtn">Delete</button>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<ng-container *ngIf="role === 'Admin'">
    <div style="margin-top: 110px;" *ngIf="users.length > 0">
        <ul>
            <li *ngFor="let user of users">
                {{ user.name }} 
                {{ user.role }}
            </li>
        </ul>
    </div>
    <div *ngIf="users.length === 0">
        <p>No users found.</p>
    </div>
</ng-container>
